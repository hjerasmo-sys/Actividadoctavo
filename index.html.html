<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ® Presentaciones Digitales - Grado 801</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --mario-red: #e52521;
  --mario-blue: #4a90e2;
  --mario-yellow: #fbd000;
  --mario-green: #43b047;
  --mario-brown: #8b4513;
  --sky: #5c94fc;
  --cloud: #fff;
  --ground: #e8a000;
  --brick: #c84b0c;
  --pipe: #00a800;
  --sena-primary: #3dae2b;
  --sena-dark: #1a5c14;
  --bg-dark: #1a1a2e;
  --panel-bg: #16213e;
  --card-bg: #0f3460;
  --accent: #fbd000;
  --text-light: #e8f4fd;
  --locked: #555;
  --star: #ffd700;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'Nunito', sans-serif;
  background: var(--bg-dark);
  color: var(--text-light);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ===== SCREEN SYSTEM ===== */
.screen { display: none; min-height: 100vh; }
.screen.active { display: flex; }

/* ===== INTRO SCREEN ===== */
#screen-intro {
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(180deg, #5c94fc 0%, #5c94fc 60%, #43b047 60%, #43b047 80%, #8b4513 80%);
  position: relative;
  overflow: hidden;
}

.clouds-container {
  position: absolute; top: 5%; width: 100%;
  display: flex; justify-content: space-around;
}
.cloud {
  background: white; border-radius: 50px;
  padding: 15px 30px; opacity: 0.9;
  animation: cloudFloat 4s ease-in-out infinite;
}
.cloud:nth-child(2) { animation-delay: -2s; }
.cloud span { font-size: 2rem; }

@keyframes cloudFloat { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }

.intro-content {
  text-align: center; z-index: 10;
  padding: 20px;
}
.game-title {
  font-family: 'Press Start 2P', monospace;
  font-size: clamp(14px, 3vw, 24px);
  color: var(--mario-yellow);
  text-shadow: 4px 4px 0 var(--mario-red), 8px 8px 0 #000;
  line-height: 1.6;
  margin-bottom: 20px;
  animation: titlePop 0.5s ease-out;
}
@keyframes titlePop { 0%{transform:scale(0)} 70%{transform:scale(1.1)} 100%{transform:scale(1)} }

.subtitle-intro {
  font-size: 1.2rem;
  color: white;
  margin-bottom: 10px;
  font-weight: 700;
  text-shadow: 2px 2px 0 rgba(0,0,0,0.5);
}

.mario-character {
  font-size: 6rem;
  animation: marioJump 1s ease-in-out infinite;
  margin: 20px 0;
  cursor: pointer;
}
@keyframes marioJump { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-20px)} }

.btn-start {
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  background: var(--mario-yellow);
  color: #000;
  border: 4px solid #000;
  padding: 15px 30px;
  cursor: pointer;
  border-radius: 8px;
  box-shadow: 6px 6px 0 #000;
  transition: all 0.1s;
  margin-top: 20px;
  animation: blink 1s step-end infinite;
}
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.4} }
.btn-start:hover { transform: translate(3px,3px); box-shadow: 3px 3px 0 #000; }

.ground-row {
  position: absolute; bottom: 0; width: 100%;
  height: 80px;
  background: repeating-linear-gradient(90deg, #c84b0c 0px, #c84b0c 40px, #a33a09 40px, #a33a09 80px);
  border-top: 4px solid #000;
  display: flex; align-items: center; justify-content: space-around; padding: 10px;
}
.coin { font-size: 1.5rem; animation: coinSpin 1s linear infinite; }
@keyframes coinSpin { 0%{transform:scaleX(1)} 50%{transform:scaleX(0.1)} 100%{transform:scaleX(1)} }

/* ===== NAME SCREEN ===== */
#screen-name {
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--bg-dark), var(--panel-bg));
}

.name-card {
  background: var(--card-bg);
  border: 3px solid var(--mario-yellow);
  border-radius: 20px;
  padding: 40px;
  max-width: 500px;
  width: 90%;
  text-align: center;
  box-shadow: 0 0 40px rgba(251,208,0,0.3);
}
.name-card h2 {
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  color: var(--mario-yellow);
  margin-bottom: 10px;
}
.name-card p { color: #aaa; margin-bottom: 25px; }
.name-input {
  width: 100%;
  padding: 15px;
  font-size: 1.1rem;
  font-family: 'Nunito', sans-serif;
  border-radius: 10px;
  border: 3px solid var(--mario-blue);
  background: var(--bg-dark);
  color: white;
  margin-bottom: 20px;
  outline: none;
}
.name-input:focus { border-color: var(--mario-yellow); }

/* ===== MAIN DASHBOARD ===== */
#screen-main {
  flex-direction: row;
}

/* SIDEBAR */
.sidebar {
  width: 260px;
  min-height: 100vh;
  background: linear-gradient(180deg, #0a0e1a 0%, #1a1a2e 100%);
  border-right: 3px solid var(--mario-yellow);
  display: flex;
  flex-direction: column;
  padding: 20px 0;
  flex-shrink: 0;
}

.sidebar-logo {
  text-align: center;
  padding: 0 20px 20px;
  border-bottom: 2px solid rgba(251,208,0,0.3);
  margin-bottom: 20px;
}
.sena-badge {
  background: var(--sena-primary);
  color: white;
  font-size: 10px;
  font-weight: 900;
  padding: 4px 10px;
  border-radius: 20px;
  letter-spacing: 2px;
  display: inline-block;
  margin-bottom: 8px;
}
.sidebar-title {
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  color: var(--mario-yellow);
  line-height: 1.8;
}

.sidebar-player {
  padding: 15px 20px;
  background: rgba(255,255,255,0.05);
  margin: 0 10px 20px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.1);
}
.player-avatar { font-size: 2.5rem; text-align: center; }
.player-name {
  font-size: 0.85rem; font-weight: 800;
  text-align: center; color: white;
  margin-top: 5px;
  word-break: break-word;
}
.player-score {
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  color: var(--mario-yellow);
  text-align: center;
  margin-top: 5px;
}

.sidebar-nav { flex: 1; padding: 0 10px; }
.nav-label {
  font-size: 9px;
  letter-spacing: 2px;
  color: rgba(255,255,255,0.4);
  text-transform: uppercase;
  padding: 0 10px;
  margin-bottom: 8px;
}

.station-nav-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  border-radius: 10px;
  cursor: pointer;
  margin-bottom: 5px;
  transition: all 0.2s;
  position: relative;
}
.station-nav-item.completed { background: rgba(67,176,71,0.2); }
.station-nav-item.active { background: rgba(251,208,0,0.2); border: 1px solid var(--mario-yellow); }
.station-nav-item.locked { opacity: 0.4; cursor: not-allowed; }
.station-nav-item:hover:not(.locked) { background: rgba(255,255,255,0.1); }

.nav-icon { font-size: 1.4rem; flex-shrink: 0; }
.nav-text { font-size: 0.7rem; font-weight: 700; color: white; line-height: 1.3; }
.nav-status { margin-left: auto; font-size: 0.8rem; flex-shrink: 0; }

.progress-bar-wrap {
  padding: 15px 20px;
  border-top: 2px solid rgba(255,255,255,0.1);
  margin-top: 10px;
}
.progress-label {
  display: flex; justify-content: space-between;
  font-size: 0.7rem; color: rgba(255,255,255,0.6);
  margin-bottom: 8px;
}
.progress-track {
  height: 10px;
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--sena-primary), var(--mario-yellow));
  border-radius: 10px;
  transition: width 0.5s ease;
}

/* MAIN CONTENT */
.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow-y: auto;
  background: var(--bg-dark);
}

/* TOP BAR */
.topbar {
  background: var(--panel-bg);
  border-bottom: 2px solid var(--mario-yellow);
  padding: 12px 25px;
  display: flex;
  align-items: center;
  gap: 15px;
  flex-shrink: 0;
}
.topbar-station {
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  color: var(--mario-yellow);
}
.lives-display { display: flex; gap: 5px; align-items: center; margin-left: auto; }
.life { font-size: 1.2rem; }
.coins-display {
  font-family: 'Press Start 2P', monospace;
  font-size: 9px;
  color: var(--mario-yellow);
  background: rgba(251,208,0,0.1);
  padding: 6px 12px;
  border-radius: 20px;
  border: 1px solid rgba(251,208,0,0.3);
}

/* STATION CONTENT */
.station-area {
  flex: 1;
  padding: 30px;
  max-width: 900px;
  width: 100%;
  margin: 0 auto;
}

.station-header {
  display: flex;
  align-items: center;
  gap: 20px;
  margin-bottom: 30px;
  padding: 25px;
  background: var(--panel-bg);
  border-radius: 20px;
  border-left: 6px solid var(--mario-yellow);
  position: relative;
  overflow: hidden;
}
.station-header::before {
  content: '';
  position: absolute; top: 0; right: 0;
  width: 200px; height: 100%;
  background: linear-gradient(90deg, transparent, rgba(251,208,0,0.05));
}
.station-number {
  font-family: 'Press Start 2P', monospace;
  font-size: 2rem;
  color: var(--mario-yellow);
  text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
  flex-shrink: 0;
}
.station-emoji { font-size: 3rem; flex-shrink: 0; }
.station-info h1 {
  font-size: 1.5rem;
  font-weight: 900;
  color: white;
  margin-bottom: 5px;
}
.station-info p { font-size: 0.85rem; color: rgba(255,255,255,0.6); }

.content-card {
  background: var(--panel-bg);
  border-radius: 16px;
  padding: 25px;
  margin-bottom: 20px;
  border: 1px solid rgba(255,255,255,0.08);
  line-height: 1.8;
}
.content-card h3 {
  font-size: 1.1rem;
  font-weight: 800;
  color: var(--mario-yellow);
  margin-bottom: 15px;
  display: flex; align-items: center; gap: 8px;
}
.content-card p { font-size: 0.95rem; color: rgba(255,255,255,0.85); margin-bottom: 12px; }
.content-card ul { padding-left: 20px; }
.content-card li { font-size: 0.9rem; color: rgba(255,255,255,0.8); margin-bottom: 8px; }

.highlight-box {
  background: linear-gradient(135deg, rgba(251,208,0,0.1), rgba(251,208,0,0.05));
  border: 2px solid rgba(251,208,0,0.4);
  border-radius: 12px;
  padding: 15px 20px;
  margin: 15px 0;
  font-size: 0.9rem;
  color: var(--mario-yellow);
  font-weight: 700;
}
.tip-box {
  background: rgba(67,176,71,0.1);
  border-left: 4px solid var(--mario-green);
  border-radius: 0 12px 12px 0;
  padding: 15px 20px;
  margin: 15px 0;
  font-size: 0.9rem;
  color: rgba(255,255,255,0.9);
}
.tip-box strong { color: var(--mario-green); }

.btn-example {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  background: var(--mario-blue);
  color: white;
  padding: 10px 20px;
  border-radius: 30px;
  text-decoration: none;
  font-weight: 800;
  font-size: 0.85rem;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
  box-shadow: 0 4px 0 rgba(0,0,0,0.3);
  margin: 5px;
}
.btn-example:hover { transform: translateY(-2px); box-shadow: 0 6px 0 rgba(0,0,0,0.3); }
.btn-example.yellow { background: var(--mario-yellow); color: #000; }
.btn-example.green { background: var(--mario-green); }

/* TOOLS SELECTOR (Station 3) */
.tools-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap: 15px;
  margin: 20px 0;
}
.tool-card {
  background: var(--card-bg);
  border: 3px solid transparent;
  border-radius: 16px;
  padding: 20px 15px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
}
.tool-card:hover { transform: translateY(-5px); border-color: var(--mario-yellow); }
.tool-card.selected { border-color: var(--mario-green); background: rgba(67,176,71,0.15); }
.tool-emoji { font-size: 2.5rem; margin-bottom: 10px; }
.tool-name { font-weight: 900; font-size: 0.9rem; color: white; margin-bottom: 5px; }
.tool-desc { font-size: 0.7rem; color: rgba(255,255,255,0.5); }

/* CHALLENGE SECTION */
.challenge-section {
  background: linear-gradient(135deg, #1a0a2e, #2d1b69);
  border: 2px solid #7c3aed;
  border-radius: 20px;
  padding: 25px;
  margin-top: 20px;
}
.challenge-header {
  font-family: 'Press Start 2P', monospace;
  font-size: 11px;
  color: #a78bfa;
  margin-bottom: 20px;
  display: flex; align-items: center; gap: 10px;
}
.challenge-question {
  font-size: 1rem;
  font-weight: 700;
  color: white;
  margin-bottom: 20px;
  line-height: 1.6;
}
.options-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 20px;
}
.option-btn {
  background: rgba(255,255,255,0.05);
  border: 2px solid rgba(255,255,255,0.15);
  border-radius: 12px;
  padding: 12px 15px;
  color: white;
  font-size: 0.85rem;
  font-family: 'Nunito', sans-serif;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  text-align: left;
}
.option-btn:hover { border-color: #a78bfa; background: rgba(167,139,250,0.1); }
.option-btn.correct { border-color: var(--mario-green); background: rgba(67,176,71,0.2); color: var(--mario-green); }
.option-btn.wrong { border-color: var(--mario-red); background: rgba(229,37,33,0.2); color: #ff6b6b; }
.option-btn:disabled { cursor: not-allowed; }

.input-challenge {
  width: 100%;
  padding: 12px 15px;
  font-size: 0.95rem;
  font-family: 'Nunito', sans-serif;
  border-radius: 10px;
  border: 2px solid rgba(167,139,250,0.4);
  background: rgba(0,0,0,0.3);
  color: white;
  margin-bottom: 15px;
  outline: none;
  resize: vertical;
  min-height: 80px;
}
.input-challenge:focus { border-color: #a78bfa; }

.btn-submit {
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  background: var(--mario-yellow);
  color: #000;
  border: 3px solid #000;
  padding: 12px 25px;
  cursor: pointer;
  border-radius: 8px;
  box-shadow: 4px 4px 0 #000;
  transition: all 0.1s;
}
.btn-submit:hover { transform: translate(2px,2px); box-shadow: 2px 2px 0 #000; }
.btn-submit:disabled { opacity: 0.5; cursor: not-allowed; }

/* FEEDBACK */
.feedback-popup {
  display: none;
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%,-50%) scale(0);
  background: var(--panel-bg);
  border: 4px solid var(--mario-yellow);
  border-radius: 20px;
  padding: 30px 40px;
  text-align: center;
  z-index: 1000;
  max-width: 450px;
  width: 90%;
  box-shadow: 0 20px 60px rgba(0,0,0,0.8);
  transition: transform 0.3s cubic-bezier(0.34,1.56,0.64,1);
}
.feedback-popup.show {
  display: block;
  transform: translate(-50%,-50%) scale(1);
}
.feedback-emoji { font-size: 4rem; margin-bottom: 15px; }
.feedback-title {
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  margin-bottom: 10px;
}
.feedback-title.success { color: var(--mario-green); }
.feedback-title.fail { color: var(--mario-red); }
.feedback-msg { font-size: 1rem; color: rgba(255,255,255,0.85); line-height: 1.6; margin-bottom: 20px; }
.feedback-coins { color: var(--mario-yellow); font-weight: 900; font-size: 1.1rem; }

.overlay {
  display: none;
  position: fixed; top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,0.7);
  z-index: 999;
}
.overlay.show { display: block; }

/* FINAL REPORT */
#screen-report {
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, var(--bg-dark), #0d2137);
  padding: 30px;
}

.report-card {
  background: var(--panel-bg);
  border: 3px solid var(--mario-yellow);
  border-radius: 25px;
  padding: 40px;
  max-width: 700px;
  width: 100%;
  box-shadow: 0 0 60px rgba(251,208,0,0.2);
}
.report-title {
  font-family: 'Press Start 2P', monospace;
  font-size: 14px;
  color: var(--mario-yellow);
  text-align: center;
  margin-bottom: 25px;
  line-height: 1.8;
}
.report-player {
  text-align: center;
  margin-bottom: 25px;
}
.report-player .avatar { font-size: 4rem; }
.report-player .rname { font-size: 1.5rem; font-weight: 900; color: white; margin-top: 10px; }
.report-player .rscore {
  font-family: 'Press Start 2P', monospace;
  font-size: 11px;
  color: var(--mario-yellow);
  margin-top: 8px;
}

.report-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin: 20px 0;
}
.report-stat {
  background: rgba(0,0,0,0.3);
  border-radius: 12px;
  padding: 15px;
  text-align: center;
  border: 1px solid rgba(255,255,255,0.1);
}
.stat-val {
  font-family: 'Press Start 2P', monospace;
  font-size: 18px;
  color: var(--mario-yellow);
}
.stat-label { font-size: 0.75rem; color: rgba(255,255,255,0.5); margin-top: 5px; }

.stations-summary { margin: 20px 0; }
.station-summary-item {
  display: flex; align-items: center; gap: 12px;
  padding: 10px 15px;
  border-radius: 10px;
  margin-bottom: 8px;
  background: rgba(0,0,0,0.2);
}
.station-summary-item.done { border-left: 3px solid var(--mario-green); }
.ssi-icon { font-size: 1.3rem; }
.ssi-name { font-size: 0.85rem; font-weight: 700; flex: 1; }
.ssi-status { font-size: 0.75rem; color: var(--mario-green); font-weight: 800; }

.teacher-section {
  background: rgba(61,174,43,0.1);
  border: 2px solid rgba(61,174,43,0.4);
  border-radius: 12px;
  padding: 20px;
  margin-top: 20px;
}
.teacher-section h4 {
  color: var(--sena-primary);
  font-weight: 900;
  margin-bottom: 10px;
  font-size: 0.9rem;
}
.teacher-section p { font-size: 0.8rem; color: rgba(255,255,255,0.7); line-height: 1.7; }

.btn-print {
  width: 100%;
  padding: 15px;
  font-family: 'Press Start 2P', monospace;
  font-size: 10px;
  background: var(--sena-primary);
  color: white;
  border: 3px solid #000;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 20px;
  box-shadow: 4px 4px 0 #000;
  transition: all 0.1s;
}
.btn-print:hover { transform: translate(2px,2px); box-shadow: 2px 2px 0 #000; }

/* Floating coins animation */
.float-coin {
  position: fixed;
  font-size: 1.5rem;
  pointer-events: none;
  animation: floatUp 1s ease-out forwards;
  z-index: 2000;
}
@keyframes floatUp { 0%{opacity:1;transform:translateY(0)} 100%{opacity:0;transform:translateY(-100px)} }

/* Responsive */
@media(max-width:768px) {
  .sidebar { width: 200px; }
  .options-grid { grid-template-columns: 1fr; }
  .report-grid { grid-template-columns: 1fr 1fr; }
}
@media(max-width:600px) {
  #screen-main { flex-direction: column; }
  .sidebar { width: 100%; min-height: auto; flex-direction: row; flex-wrap: wrap; }
  .sidebar-nav { display: none; }
}

.badge {
  display: inline-block;
  font-size: 0.7rem;
  padding: 3px 10px;
  border-radius: 20px;
  font-weight: 800;
  letter-spacing: 1px;
}
.badge-blue { background: rgba(74,144,226,0.2); color: #4a90e2; border: 1px solid #4a90e2; }
.badge-yellow { background: rgba(251,208,0,0.2); color: var(--mario-yellow); border: 1px solid var(--mario-yellow); }
.badge-green { background: rgba(67,176,71,0.2); color: var(--mario-green); border: 1px solid var(--mario-green); }

.section-divider {
  height: 2px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  margin: 20px 0;
}

/* Map visual */
.map-mini {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 15px;
  background: rgba(0,0,0,0.2);
  border-radius: 12px;
  margin: 15px 0;
}
.map-dot {
  width: 35px; height: 35px;
  border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.1rem;
  border: 2px solid rgba(255,255,255,0.2);
  cursor: pointer;
  transition: all 0.2s;
}
.map-dot.done { background: var(--mario-green); border-color: var(--mario-green); }
.map-dot.active { background: var(--mario-yellow); border-color: var(--mario-yellow); animation: pulse 1.5s infinite; }
.map-dot.locked { background: rgba(255,255,255,0.05); opacity: 0.4; }
@keyframes pulse { 0%,100%{box-shadow:0 0 0 0 rgba(251,208,0,0.4)} 50%{box-shadow:0 0 0 8px rgba(251,208,0,0)} }
</style>
</head>
<body>

<!-- ===== INTRO SCREEN ===== -->
<div id="screen-intro" class="screen active">
  <div class="clouds-container">
    <div class="cloud"><span>â˜ï¸</span></div>
    <div class="cloud"><span>â˜ï¸</span></div>
    <div class="cloud"><span>â˜ï¸</span></div>
  </div>
  <div class="intro-content">
    <div class="game-title">ğŸ® PRESENTACIONES<br>DIGITALES</div>
    <div class="subtitle-intro">Grado 801 â€” TecnologÃ­a e InformÃ¡tica</div>
    <div class="mario-character" onclick="document.getElementById('screen-intro').classList.remove('active'); document.getElementById('screen-name').classList.add('active')">ğŸ§‘â€ğŸ¦±</div>
    <p style="color:rgba(255,255,255,0.7); margin-bottom: 15px; font-size:0.9rem;">8 Estaciones â€¢ Retos â€¢ Monedas â€¢ Â¡Aventura!</p>
    <button class="btn-start" onclick="document.getElementById('screen-intro').classList.remove('active'); document.getElementById('screen-name').classList.add('active')">
      â–¶ PRESIONA START
    </button>
  </div>
  <div class="ground-row">
    <span class="coin">ğŸª™</span><span>ğŸ„</span><span class="coin">ğŸª™</span>
    <span>â­</span><span class="coin">ğŸª™</span><span>ğŸ„</span><span class="coin">ğŸª™</span>
  </div>
</div>

<!-- ===== NAME SCREEN ===== -->
<div id="screen-name" class="screen" style="flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#0f3460)">
  <div class="name-card">
    <div style="font-size:3rem;margin-bottom:15px">ğŸ®</div>
    <h2>Â¡BIENVENIDO/A!</h2>
    <p>Ingresa tu nombre completo para comenzar la aventura</p>
    <input type="text" class="name-input" id="studentName" placeholder="Tu nombre completo..." maxlength="60">
    <button class="btn-start" style="animation:none;width:100%" onclick="startGame()">Â¡COMENZAR AVENTURA! ğŸš€</button>
  </div>
</div>

<!-- ===== MAIN DASHBOARD ===== -->
<div id="screen-main" class="screen">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <div class="sena-badge">SENA</div>
      <div class="sidebar-title">PRESENTACIONES<br>DIGITALES<br>ğŸ® 801</div>
    </div>
    <div class="sidebar-player">
      <div class="player-avatar">ğŸ§‘â€ğŸ¦±</div>
      <div class="player-name" id="sidebarName">Jugador</div>
      <div class="player-score" id="sidebarScore">ğŸª™ 0 MONEDAS</div>
    </div>
    <div class="sidebar-nav">
      <div class="nav-label">Mapa de Estaciones</div>
      <div id="navItems"></div>
    </div>
    <div class="progress-bar-wrap">
      <div class="progress-label">
        <span>Progreso</span>
        <span id="progressPct">0%</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill" id="progressFill" style="width:0%"></div>
      </div>
    </div>
  </aside>

  <!-- MAIN AREA -->
  <main class="main-content">
    <div class="topbar">
      <div class="topbar-station" id="topbarStation">ESTACIÃ“N 1</div>
      <div class="lives-display">
        <span class="life">â¤ï¸</span><span class="life">â¤ï¸</span><span class="life">â¤ï¸</span>
      </div>
      <div class="coins-display" id="topbarCoins">ğŸª™ 0</div>
    </div>
    <div class="station-area" id="stationArea">
      <!-- content injected here -->
    </div>
  </main>
</div>

<!-- ===== REPORT SCREEN ===== -->
<div id="screen-report" class="screen">
  <div class="report-card">
    <div class="report-title">ğŸ† MISIÃ“N<br>COMPLETADA!</div>
    <div class="report-player">
      <div class="avatar">ğŸ§‘â€ğŸ¦±â­</div>
      <div class="rname" id="reportName">Estudiante</div>
      <div class="rscore" id="reportScore">ğŸª™ 0 MONEDAS RECOLECTADAS</div>
    </div>
    <div class="report-grid">
      <div class="report-stat">
        <div class="stat-val" id="repStations">8/8</div>
        <div class="stat-label">Estaciones Completadas</div>
      </div>
      <div class="report-stat">
        <div class="stat-val" id="repCoins">0</div>
        <div class="stat-label">ğŸª™ Monedas</div>
      </div>
      <div class="report-stat">
        <div class="stat-val" id="repTime">--</div>
        <div class="stat-label">Tiempo Total</div>
      </div>
      <div class="report-stat">
        <div class="stat-val" id="repGrade">A+</div>
        <div class="stat-label">CalificaciÃ³n</div>
      </div>
    </div>
    <div class="stations-summary" id="stationsSummary"></div>
    <div class="teacher-section">
      <h4>ğŸ“‹ REPORTE PARA EL DOCENTE</h4>
      <p id="teacherReport"></p>
    </div>
    <button class="btn-print" onclick="window.print()">ğŸ–¨ï¸ IMPRIMIR REPORTE PARA EL DOCENTE</button>
    <button class="btn-print" style="background:var(--mario-blue);margin-top:10px" onclick="restartGame()">ğŸ”„ JUGAR DE NUEVO</button>
  </div>
</div>

<!-- OVERLAY + FEEDBACK -->
<div class="overlay" id="overlay"></div>
<div class="feedback-popup" id="feedbackPopup">
  <div class="feedback-emoji" id="feedbackEmoji"></div>
  <div class="feedback-title" id="feedbackTitle"></div>
  <div class="feedback-msg" id="feedbackMsg"></div>
  <div class="feedback-coins" id="feedbackCoins"></div>
  <button class="btn-submit" style="margin-top:15px" onclick="closeFeedback()" id="feedbackBtn">CONTINUAR â–¶</button>
</div>

<script>
// ============================================================
// DATA
// ============================================================
const stations = [
  {
    id: 1, emoji: 'ğŸ°', name: 'Castillo de Inicio',
    subtitle: 'Objetivo del Taller',
    color: '#e52521',
    content: `
      <div class="content-card">
        <h3>ğŸ¯ Objetivo del Taller</h3>
        <p>Â¡Bienvenido, valiente aventurero digital! En este taller aprenderÃ¡s a crear presentaciones digitales impactantes que comuniquen tus ideas con claridad, creatividad y profesionalismo.</p>
        <div class="highlight-box">
          ğŸ† Al completar este taller, serÃ¡s capaz de diseÃ±ar presentaciones digitales estructuradas, visualmente atractivas y comunicativamente efectivas.
        </div>
        <h3 style="margin-top:20px">ğŸ® Capacidades que DesarrollarÃ¡s</h3>
        <ul>
          <li>ğŸ–¼ï¸ <strong>DiseÃ±o visual:</strong> Elegir colores, tipografÃ­as e imÃ¡genes que comuniquen.</li>
          <li>ğŸ“ <strong>RedacciÃ³n clara:</strong> Estructurar ideas de forma concisa y ordenada.</li>
          <li>ğŸ—£ï¸ <strong>ExposiciÃ³n oral:</strong> Presentar frente a un pÃºblico con seguridad.</li>
          <li>ğŸ’» <strong>Dominio de herramientas digitales:</strong> PowerPoint, Google Slides, Canva y mÃ¡s.</li>
          <li>ğŸ§  <strong>Pensamiento crÃ­tico:</strong> Seleccionar informaciÃ³n relevante y organizarla lÃ³gicamente.</li>
        </ul>
        <div class="tip-box">
          <strong>ğŸ’¡ Dato Mario Bros:</strong> AsÃ­ como Mario recolecta monedas en cada nivel, tÃº recolectarÃ¡s conocimiento en cada estaciÃ³n. Â¡Cada habilidad que aprendes es una estrella mÃ¡s para tu inventario!
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ—ºï¸ Tu MisiÃ³n</h3>
        <p>DeberÃ¡s recorrer <strong>8 estaciones</strong> superando retos de conocimiento. Al completar cada reto, desbloquearÃ¡s la siguiente estaciÃ³n y ganarÃ¡s monedas.</p>
        <div class="map-mini" id="miniMap"></div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'Â¿CuÃ¡l de las siguientes es una capacidad que desarrollarÃ¡s en este taller?',
      options: ['Programar videojuegos', 'DiseÃ±ar presentaciones digitales efectivas', 'Crear pÃ¡ginas web', 'Editar videos profesionales'],
      correct: 1,
      coins: 10
    }
  },
  {
    id: 2, emoji: 'ğŸŒ', name: 'El Mundo de la InformaciÃ³n',
    subtitle: 'Importancia de las Presentaciones',
    color: '#4a90e2',
    content: `
      <div class="content-card">
        <h3>ğŸ“¡ Â¿Por quÃ© importan las Presentaciones Digitales?</h3>
        <p>Vivimos en la <strong>Era de la InformaciÃ³n</strong>. Cada dÃ­a, millones de personas comparten ideas a travÃ©s de presentaciones digitales en escuelas, empresas, eventos y redes sociales.</p>
        <p>Una presentaciÃ³n digital bien diseÃ±ada puede:</p>
        <ul>
          <li>âœ… Convencer a una audiencia de apoyar tu idea o proyecto.</li>
          <li>âœ… Explicar conceptos complejos de forma sencilla y visual.</li>
          <li>âœ… Demostrar tu nivel de conocimiento y preparaciÃ³n.</li>
          <li>âœ… Diferenciarte de otros estudiantes o profesionales.</li>
          <li>âœ… Quedarse en la memoria de quien la ve.</li>
        </ul>
        <div class="highlight-box">
          ğŸ“Š SegÃºn estudios, el 65% de las personas son <strong>aprendices visuales</strong>. Una imagen o grÃ¡fico comunica hasta 3 veces mÃ¡s rÃ¡pido que solo texto.
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ”‘ CaracterÃ­sticas de una Buena PresentaciÃ³n</h3>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:10px">
          <div style="background:rgba(74,144,226,0.1);border-radius:10px;padding:12px;border:1px solid rgba(74,144,226,0.3)">
            <strong style="color:#4a90e2">âœ”ï¸ TIENE</strong><br>
            <small>â€¢ Texto breve y claro<br>â€¢ ImÃ¡genes relevantes<br>â€¢ Estructura lÃ³gica<br>â€¢ Colores armÃ³nicos</small>
          </div>
          <div style="background:rgba(229,37,33,0.1);border-radius:10px;padding:12px;border:1px solid rgba(229,37,33,0.3)">
            <strong style="color:#ff6b6b">âŒ NO TIENE</strong><br>
            <small>â€¢ PÃ¡rrafos enormes<br>â€¢ Muchas fuentes distintas<br>â€¢ ImÃ¡genes de baja calidad<br>â€¢ Colores que cansan</small>
          </div>
        </div>
        <div class="tip-box" style="margin-top:15px">
          <strong>ğŸ® Regla de Oro:</strong> "Una diapositiva = Una idea principal". Igual que en Mario Bros: Â¡un nivel a la vez!
        </div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'Â¿QuÃ© porcentaje de personas son aprendices visuales segÃºn los estudios mencionados?',
      options: ['35%', '50%', '65%', '80%'],
      correct: 2,
      coins: 10
    }
  },
  {
    id: 3, emoji: 'âš¡', name: 'Selector de Poder',
    subtitle: 'Elige tu Herramienta Digital',
    color: '#fbd000',
    content: `
      <div class="content-card">
        <h3>ğŸ› ï¸ Elige tu Herramienta</h3>
        <p>Â¡AsÃ­ como Mario elige su power-up, tÃº debes elegir la herramienta perfecta para crear tu presentaciÃ³n! Cada una tiene superpoderes Ãºnicos.</p>
        <div class="tools-grid" id="toolsGrid">
          <div class="tool-card" onclick="selectTool(this,'PowerPoint')">
            <div class="tool-emoji">ğŸ“Š</div>
            <div class="tool-name">PowerPoint</div>
            <div class="tool-desc">El clÃ¡sico de Microsoft. Potente y profesional.</div>
          </div>
          <div class="tool-card" onclick="selectTool(this,'Google Slides')">
            <div class="tool-emoji">ğŸ¨</div>
            <div class="tool-name">Google Slides</div>
            <div class="tool-desc">Gratuito, online y colaborativo en tiempo real.</div>
          </div>
          <div class="tool-card" onclick="selectTool(this,'Canva')">
            <div class="tool-emoji">âœ¨</div>
            <div class="tool-name">Canva</div>
            <div class="tool-desc">DiseÃ±os increÃ­bles con plantillas modernas.</div>
          </div>
          <div class="tool-card" onclick="selectTool(this,'Prezi')">
            <div class="tool-emoji">ğŸŒ€</div>
            <div class="tool-name">Prezi</div>
            <div class="tool-desc">Presentaciones dinÃ¡micas y con zoom visual.</div>
          </div>
          <div class="tool-card" onclick="selectTool(this,'LibreOffice')">
            <div class="tool-emoji">ğŸ†“</div>
            <div class="tool-name">LibreOffice</div>
            <div class="tool-desc">Gratuito y sin internet. Ideal para cualquier PC.</div>
          </div>
        </div>
        <div id="toolInfo" style="display:none" class="highlight-box">
          Has seleccionado: <span id="toolSelected">-</span> Â¡Excelente elecciÃ³n!
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ“Š Comparativa de Herramientas</h3>
        <table style="width:100%;border-collapse:collapse;font-size:0.8rem">
          <tr style="background:rgba(251,208,0,0.1)">
            <th style="padding:10px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.1)">Herramienta</th>
            <th style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.1)">Gratuita</th>
            <th style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.1)">Online</th>
            <th style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.1)">Colaborativa</th>
            <th style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.1)">Dificultad</th>
          </tr>
          <tr>
            <td style="padding:10px;border-bottom:1px solid rgba(255,255,255,0.05)">ğŸ“Š PowerPoint</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âŒ</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">â­â­â­</td>
          </tr>
          <tr>
            <td style="padding:10px;border-bottom:1px solid rgba(255,255,255,0.05)">ğŸ¨ Google Slides</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">â­â­</td>
          </tr>
          <tr>
            <td style="padding:10px;border-bottom:1px solid rgba(255,255,255,0.05)">âœ¨ Canva</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">â­</td>
          </tr>
          <tr>
            <td style="padding:10px;border-bottom:1px solid rgba(255,255,255,0.05)">ğŸŒ€ Prezi</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âš ï¸</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">âœ…</td>
            <td style="padding:10px;text-align:center;border-bottom:1px solid rgba(255,255,255,0.05)">â­â­â­â­</td>
          </tr>
          <tr>
            <td style="padding:10px">ğŸ†“ LibreOffice</td>
            <td style="padding:10px;text-align:center">âœ…</td>
            <td style="padding:10px;text-align:center">âŒ</td>
            <td style="padding:10px;text-align:center">âŒ</td>
            <td style="padding:10px;text-align:center">â­â­</td>
          </tr>
        </table>
      </div>
    `,
    challenge: {
      type: 'tool',
      question: 'Â¿CuÃ¡l herramienta seleccionas para crear tu presentaciÃ³n? (Elige una de las tarjetas de arriba y explica por quÃ© la elegiste)',
      coins: 15
    }
  },
  {
    id: 4, emoji: 'ğŸ“„', name: 'La Portada',
    subtitle: 'Primera impresiÃ³n que impacta',
    color: '#43b047',
    content: `
      <div class="content-card">
        <h3>ğŸ­ Â¿QuÃ© es una Portada?</h3>
        <p>La portada es la <strong>primera diapositiva</strong> de tu presentaciÃ³n. Es como la portada de un libro o el menÃº principal de un videojuego: debe ser atractiva, clara y dar ganas de seguir viendo.</p>
        <p>Una buena portada comunica en segundos:</p>
        <ul>
          <li>ğŸ“Œ El <strong>tÃ­tulo del tema</strong> (grande y claro)</li>
          <li>ğŸ‘¤ El <strong>nombre del autor/autores</strong></li>
          <li>ğŸ« La <strong>instituciÃ³n, grado y grupo</strong></li>
          <li>ğŸ“… La <strong>fecha</strong> de presentaciÃ³n</li>
          <li>ğŸ–¼ï¸ Una <strong>imagen o elemento visual</strong> relacionado con el tema</li>
        </ul>
        <div class="highlight-box">
          âš ï¸ La portada NO debe tener demasiado texto. Recuerda: <strong>Â¡menos es mÃ¡s!</strong>
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ¨ Consejos de DiseÃ±o para tu Portada</h3>
        <ul>
          <li>ğŸ¨ Usa colores que vayan con el tema de tu presentaciÃ³n.</li>
          <li>âœï¸ Elige mÃ¡ximo 2 fuentes tipogrÃ¡ficas diferentes.</li>
          <li>ğŸ–¼ï¸ Usa una imagen de alta calidad (sin pixeles).</li>
          <li>ğŸ“ Respeta los mÃ¡rgenes y no llenes todos los espacios.</li>
          <li>ğŸ¯ El tÃ­tulo debe ser lo mÃ¡s grande y visible de la diapositiva.</li>
        </ul>
        <div class="tip-box">
          <strong>ğŸ® Truco Pro:</strong> Busca la plantilla de tu herramienta que mÃ¡s te guste como base. Â¡No tienes que diseÃ±ar desde cero!
        </div>
        <div style="margin-top:15px;display:flex;flex-wrap:wrap;gap:10px">
          <a href="https://www.canva.com/presentations/templates/" target="_blank" class="btn-example">ğŸ”— Ver ejemplo en Canva</a>
          <a href="https://slidesgo.com/es/tema/presentaciones-de-cole-para-estudiantes" target="_blank" class="btn-example yellow">ğŸ”— Ver ejemplos Slidesgo</a>
        </div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'Â¿CuÃ¡les son los elementos ESENCIALES que debe tener una portada? Selecciona la opciÃ³n mÃ¡s completa:',
      options: [
        'TÃ­tulo, logos de redes sociales y memes',
        'TÃ­tulo, nombre del autor, instituciÃ³n, grado y fecha',
        'Solo el tÃ­tulo con letra grande y colorida',
        'El nombre del docente, el logo del colegio y muchas imÃ¡genes'
      ],
      correct: 1,
      coins: 10
    }
  },
  {
    id: 5, emoji: 'ğŸ“', name: 'La IntroducciÃ³n',
    subtitle: 'Presenta tu tema y a ti mismo',
    color: '#9b59b6',
    content: `
      <div class="content-card">
        <h3>ğŸ‘‹ Â¿QuÃ© es la IntroducciÃ³n?</h3>
        <p>La introducciÃ³n es donde <strong>conectas con tu audiencia</strong> antes de entrar al tema. Es tu momento para presentarte, generar interÃ©s y anticipar lo que van a aprender.</p>
        <p>Una buena introducciÃ³n tiene dos partes:</p>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin:15px 0">
          <div style="background:rgba(155,89,182,0.15);border-radius:12px;padding:15px;border:1px solid rgba(155,89,182,0.4)">
            <strong style="color:#c39bd3">ğŸ‘¤ PresentaciÃ³n Personal</strong>
            <ul style="margin-top:10px;font-size:0.85rem">
              <li>Tu nombre completo</li>
              <li>Tu grado y colegio</li>
              <li>Por quÃ© elegiste el tema</li>
              <li>Algo que te conecte con el tema</li>
            </ul>
          </div>
          <div style="background:rgba(155,89,182,0.15);border-radius:12px;padding:15px;border:1px solid rgba(155,89,182,0.4)">
            <strong style="color:#c39bd3">ğŸ“š IntroducciÃ³n al Tema</strong>
            <ul style="margin-top:10px;font-size:0.85rem">
              <li>Â¿De quÃ© trata tu tema?</li>
              <li>Â¿Por quÃ© es importante?</li>
              <li>Â¿QuÃ© van a aprender?</li>
              <li>Pregunta o dato curioso</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="content-card">
        <h3>âœï¸ Ejemplo de IntroducciÃ³n</h3>
        <div style="background:rgba(0,0,0,0.3);border-radius:10px;padding:20px;border-left:4px solid #9b59b6;font-style:italic;font-size:0.9rem;color:rgba(255,255,255,0.85);line-height:1.8">
          "Buenos dÃ­as. Mi nombre es <strong>[Tu Nombre]</strong>, soy estudiante de grado 801. ElegÃ­ hablar sobre <strong>[Tu Tema]</strong> porque me parece fascinante y muy Ãºtil en la vida diaria. Hoy les mostrarÃ© los aspectos mÃ¡s importantes, y al final serÃ¡n capaces de comprender por quÃ© <strong>[Tu Tema]</strong> es relevante para todos nosotros. Â¿SabÃ­an que...? <em>[Dato curioso]</em>"
        </div>
        <div class="tip-box" style="margin-top:15px">
          <strong>ğŸ® Combo de Inicio:</strong> Empieza con una pregunta o un dato sorprendente. Â¡AsÃ­ atraparÃ¡s la atenciÃ³n de tu audiencia como Mario atrapa una estrella!
        </div>
        <div style="margin-top:15px;display:flex;flex-wrap:wrap;gap:10px">
          <a href="https://www.ejemplos.co/20-ejemplos-de-introduccion-para-una-presentacion/" target="_blank" class="btn-example">ğŸ”— Ver ejemplos de introducciÃ³n</a>
          <a href="https://www.toastmasters.org/resources/public-speaking-tips/how-to-start-a-speech" target="_blank" class="btn-example yellow">ğŸ”— Tips de presentaciÃ³n oral</a>
        </div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'Â¿CuÃ¡l es el mejor inicio para una presentaciÃ³n ante tu clase?',
      options: [
        '"Hola, buenas, yo soy el que va a hablar de... esto."',
        '"Buenos dÃ­as. Mi nombre es [Nombre], hoy les hablarÃ© sobre [Tema] y al finalizar comprenderÃ¡n por quÃ©..."',
        'Leer todo el texto de la diapositiva sin mirar al pÃºblico.',
        'Empezar directamente con los datos sin presentarse.'
      ],
      correct: 1,
      coins: 10
    }
  },
  {
    id: 6, emoji: 'ğŸ“š', name: 'Marco TeÃ³rico',
    subtitle: 'El corazÃ³n de tu presentaciÃ³n',
    color: '#e67e22',
    content: `
      <div class="content-card">
        <h3>ğŸ§± Â¿QuÃ© es el Marco TeÃ³rico?</h3>
        <p>El marco teÃ³rico es el <strong>nÃºcleo de tu presentaciÃ³n</strong>. AquÃ­ desarrollas el contenido central: conceptos, datos, explicaciones e informaciÃ³n que respaldan tu tema con bases concretas.</p>
        <p>Debe estar estructurado de forma lÃ³gica, de lo mÃ¡s general a lo mÃ¡s especÃ­fico:</p>
        <div style="display:flex;flex-direction:column;gap:10px;margin:15px 0">
          <div style="background:rgba(230,126,34,0.15);border-radius:10px;padding:12px 18px;border-left:4px solid #e67e22;display:flex;align-items:center;gap:12px">
            <span style="font-size:1.5rem">1ï¸âƒ£</span>
            <div><strong>Contexto General</strong><br><small style="color:rgba(255,255,255,0.6)">Â¿CuÃ¡l es el panorama global del tema?</small></div>
          </div>
          <div style="background:rgba(230,126,34,0.15);border-radius:10px;padding:12px 18px;border-left:4px solid #e67e22;display:flex;align-items:center;gap:12px">
            <span style="font-size:1.5rem">2ï¸âƒ£</span>
            <div><strong>Conceptos Clave</strong><br><small style="color:rgba(255,255,255,0.6)">Definiciones importantes con tus propias palabras</small></div>
          </div>
          <div style="background:rgba(230,126,34,0.15);border-radius:10px;padding:12px 18px;border-left:4px solid #e67e22;display:flex;align-items:center;gap:12px">
            <span style="font-size:1.5rem">3ï¸âƒ£</span>
            <div><strong>Desarrollo del Tema</strong><br><small style="color:rgba(255,255,255,0.6)">Datos, ejemplos, subtemas especÃ­ficos</small></div>
          </div>
          <div style="background:rgba(230,126,34,0.15);border-radius:10px;padding:12px 18px;border-left:4px solid #e67e22;display:flex;align-items:center;gap:12px">
            <span style="font-size:1.5rem">4ï¸âƒ£</span>
            <div><strong>AnÃ¡lisis o ReflexiÃ³n</strong><br><small style="color:rgba(255,255,255,0.6)">Tu opiniÃ³n fundamentada o anÃ¡lisis del tema</small></div>
          </div>
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ“ Reglas de Oro para las Diapositivas</h3>
        <div class="highlight-box">ğŸ® Regla 6Ã—6: MÃ¡ximo <strong>6 lÃ­neas por diapositiva</strong> y mÃ¡ximo <strong>6 palabras por lÃ­nea</strong>. Â¡Las diapositivas son un apoyo, no un libro!</div>
        <ul style="margin-top:15px">
          <li>ğŸ“Œ Usa <strong>viÃ±etas o numeraciÃ³n</strong> para organizar las ideas.</li>
          <li>ğŸ–¼ï¸ AcompaÃ±a cada concepto con una imagen o grÃ¡fico relacionado.</li>
          <li>ğŸ”— Cita tus fuentes al pie de cada diapositiva con texto pequeÃ±o.</li>
          <li>ğŸ¨ MantÃ©n el mismo estilo visual en todas las diapositivas.</li>
          <li>ğŸ“Š Usa grÃ¡ficos o tablas cuando tengas datos estadÃ­sticos.</li>
        </ul>
        <div style="margin-top:15px;display:flex;flex-wrap:wrap;gap:10px">
          <a href="https://support.microsoft.com/es-es/office/crear-una-presentaci%C3%B3n-en-powerpoint-422250f8-5721-4cea-92cc-202fa7b89617" target="_blank" class="btn-example">ğŸ”— Tutorial PowerPoint Oficial</a>
          <a href="https://support.google.com/docs/answer/1696861?hl=es" target="_blank" class="btn-example yellow">ğŸ”— Tutorial Google Slides</a>
        </div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'SegÃºn la "Regla 6Ã—6", Â¿cuÃ¡ntas palabras mÃ¡ximo debe tener cada lÃ­nea de texto en una diapositiva?',
      options: ['3 palabras', '6 palabras', '10 palabras', 'Sin lÃ­mite'],
      correct: 1,
      coins: 10
    }
  },
  {
    id: 7, emoji: 'ğŸ–¼ï¸', name: 'Poderes Visuales',
    subtitle: 'ImÃ¡genes y GrÃ¡ficos que Impactan',
    color: '#e91e63',
    content: `
      <div class="content-card">
        <h3>âš¡ Â¿Por quÃ© usar ImÃ¡genes y GrÃ¡ficos?</h3>
        <p>Las imÃ¡genes son el <strong>superpoder</strong> de las presentaciones. Una buena imagen puede comunicar en 3 segundos lo que un pÃ¡rrafo tarda 3 minutos en explicar.</p>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;margin:15px 0">
          <div style="text-align:center;background:rgba(233,30,99,0.1);border-radius:12px;padding:15px;border:1px solid rgba(233,30,99,0.3)">
            <div style="font-size:2rem">ğŸ“·</div>
            <strong style="font-size:0.85rem;color:#f48fb1">FotografÃ­as</strong>
            <p style="font-size:0.75rem;color:rgba(255,255,255,0.5);margin-top:5px">Evidencias reales y contexto visual</p>
          </div>
          <div style="text-align:center;background:rgba(233,30,99,0.1);border-radius:12px;padding:15px;border:1px solid rgba(233,30,99,0.3)">
            <div style="font-size:2rem">ğŸ“Š</div>
            <strong style="font-size:0.85rem;color:#f48fb1">GrÃ¡ficos</strong>
            <p style="font-size:0.75rem;color:rgba(255,255,255,0.5);margin-top:5px">Datos estadÃ­sticos de forma visual</p>
          </div>
          <div style="text-align:center;background:rgba(233,30,99,0.1);border-radius:12px;padding:15px;border:1px solid rgba(233,30,99,0.3)">
            <div style="font-size:2rem">ğŸ—ºï¸</div>
            <strong style="font-size:0.85rem;color:#f48fb1">InfografÃ­as</strong>
            <p style="font-size:0.75rem;color:rgba(255,255,255,0.5);margin-top:5px">Resumen visual completo</p>
          </div>
          <div style="text-align:center;background:rgba(233,30,99,0.1);border-radius:12px;padding:15px;border:1px solid rgba(233,30,99,0.3)">
            <div style="font-size:2rem">ğŸ¬</div>
            <strong style="font-size:0.85rem;color:#f48fb1">GIFs / Videos</strong>
            <p style="font-size:0.75rem;color:rgba(255,255,255,0.5);margin-top:5px">AnimaciÃ³n que capta atenciÃ³n</p>
          </div>
        </div>
      </div>
      <div class="content-card">
        <h3>ğŸ” Â¿DÃ³nde conseguir imÃ¡genes LEGALES y GRATIS?</h3>
        <ul>
          <li>ğŸ–¼ï¸ <strong>Unsplash.com</strong> â€” FotografÃ­as de alta calidad, sin copyright.</li>
          <li>ğŸ¨ <strong>Flaticon.com</strong> â€” Ãconos y vectores gratuitos.</li>
          <li>ğŸŒ <strong>Pixabay.com</strong> â€” ImÃ¡genes, vectores y videos libres.</li>
          <li>ğŸ” <strong>Google ImÃ¡genes</strong> (filtro: Uso libre) â€” Filtra por licencia.</li>
          <li>âœ¨ <strong>Canva</strong> â€” LibrerÃ­a interna de imÃ¡genes gratuitas.</li>
        </ul>
        <div class="highlight-box" style="margin-top:15px">
          ğŸš« <strong>Nunca uses imÃ¡genes sin verificar la licencia.</strong> El plagio de imÃ¡genes es una falta Ã©tica y puede tener consecuencias legales.
        </div>
        <div class="tip-box">
          <strong>ğŸ® Truco de DiseÃ±o:</strong> Cuando insertes una imagen, asegÃºrate de que tenga fondo transparente (PNG) cuando quieras que se integre bien con el diseÃ±o de tu diapositiva.
        </div>
        <div style="margin-top:15px;display:flex;flex-wrap:wrap;gap:10px">
          <a href="https://unsplash.com" target="_blank" class="btn-example">ğŸ–¼ï¸ Ir a Unsplash</a>
          <a href="https://www.canva.com/graphs/" target="_blank" class="btn-example yellow">ğŸ“Š Crear grÃ¡ficos en Canva</a>
          <a href="https://pixabay.com/es/" target="_blank" class="btn-example green">ğŸ¨ Ir a Pixabay</a>
        </div>
      </div>
    `,
    challenge: {
      type: 'mc',
      question: 'Â¿QuÃ© sitio web ofrece fotografÃ­as de alta calidad totalmente gratuitas y sin problemas de copyright?',
      options: ['Google ImÃ¡genes (sin filtros)', 'Unsplash.com', 'Pinterest.com', 'Instagram.com'],
      correct: 1,
      coins: 10
    }
  },
  {
    id: 8, emoji: 'ğŸ', name: 'Bandera Final',
    subtitle: 'Conclusiones que perduran',
    color: '#fbd000',
    content: `
      <div class="content-card">
        <h3>ğŸ† Â¿QuÃ© son las Conclusiones?</h3>
        <p>Las conclusiones son el <strong>final poderoso</strong> de tu presentaciÃ³n. Es tu Ãºltima oportunidad de dejar una huella en la audiencia, reforzar tu mensaje y demostrar lo que aprendiste.</p>
        <p>Una conclusiÃ³n efectiva NO es repetir lo que ya dijiste. Es <strong>sintetizar, reflexionar e impactar</strong>.</p>
        <div style="background:linear-gradient(135deg,rgba(251,208,0,0.1),rgba(251,208,0,0.05));border:2px solid rgba(251,208,0,0.3);border-radius:15px;padding:20px;margin:15px 0">
          <strong style="color:var(--mario-yellow)">ğŸ¯ Estructura de una ConclusiÃ³n Perfecta:</strong>
          <ol style="margin-top:12px;padding-left:20px">
            <li style="margin-bottom:8px;font-size:0.9rem"><strong>SÃ­ntesis:</strong> Resume las 3 ideas principales en mÃ¡ximo 2 oraciones.</li>
            <li style="margin-bottom:8px;font-size:0.9rem"><strong>ReflexiÃ³n personal:</strong> Â¿QuÃ© aprendiste tÃº? Â¿QuÃ© cambiÃ³ en tu forma de ver el tema?</li>
            <li style="margin-bottom:8px;font-size:0.9rem"><strong>Llamado a la acciÃ³n:</strong> Â¿QuÃ© quieres que haga o piense tu audiencia?</li>
            <li style="margin-bottom:8px;font-size:0.9rem"><strong>Cierre memorable:</strong> Una frase potente, una pregunta o un dato impactante.</li>
          </ol>
        </div>
      </div>
      <div class="content-card">
        <h3>âœï¸ Ejemplo de ConclusiÃ³n</h3>
        <div style="background:rgba(0,0,0,0.3);border-radius:10px;padding:20px;border-left:4px solid var(--mario-yellow);font-size:0.9rem;color:rgba(255,255,255,0.85);line-height:1.8;font-style:italic">
          "En conclusiÃ³n, hemos aprendido que <strong>[Idea 1]</strong>, <strong>[Idea 2]</strong> y <strong>[Idea 3]</strong> son los pilares fundamentales de <strong>[Tu Tema]</strong>. Personalmente, este trabajo me hizo reflexionar sobre <strong>[reflexiÃ³n]</strong>. Los invito a <strong>[llamado a la acciÃ³n]</strong>. Recuerden: <strong>[Frase poderosa o cita]</strong>. Â¡Muchas gracias por su atenciÃ³n!"
        </div>
        <div class="tip-box" style="margin-top:15px">
          <strong>ğŸ® Boss Final:</strong> Â¡Tu conclusiÃ³n es el jefe final del juego! PrepÃ¡rala bien, practica en voz alta y termina con confianza. Un final poderoso se recuerda siempre.
        </div>
        <div class="highlight-box">
          â­ Las mejores conclusiones duran entre <strong>1 y 2 minutos</strong> cuando las presentas oralmente. Â¡Ni muy cortas ni muy largas!
        </div>
        <div style="margin-top:15px;display:flex;flex-wrap:wrap;gap:10px">
          <a href="https://www.ejemplos.co/ejemplos-de-conclusion/" target="_blank" class="btn-example">ğŸ”— Ejemplos de conclusiones</a>
          <a href="https://www.ted.com/talks?language=es" target="_blank" class="btn-example yellow">ğŸ¤ Ver presentaciones TED en espaÃ±ol</a>
        </div>
      </div>
    `,
    challenge: {
      type: 'open',
      question: 'Â¡RETO FINAL! ğŸ† Escribe una conclusiÃ³n breve (3-4 oraciones) para una presentaciÃ³n imaginaria sobre "El impacto de las redes sociales en los jÃ³venes". Usa la estructura que aprendiste.',
      coins: 20
    }
  }
];

// ============================================================
// GAME STATE
// ============================================================
let gameState = {
  playerName: '',
  currentStation: 0,
  completedStations: [],
  coins: 0,
  selectedTool: '',
  startTime: null,
  answers: {}
};

const feedbackMessages = {
  correct: [
    { title: 'Â¡SÃšPER!', emoji: 'â­', msg: 'Â¡Correcto! Eres mÃ¡s inteligente que el rey Koopa. Â¡Sigues adelante!' },
    { title: 'Â¡GENIAL!', emoji: 'ğŸ„', msg: 'Â¡Power-up activado! Respuesta perfecta. Â¡Nivel desbloqueado!' },
    { title: 'Â¡PERFECTO!', emoji: 'ğŸŒŸ', msg: 'Â¡Estrella conseguida! Esa era la respuesta exacta. Â¡Eres increÃ­ble!' },
    { title: 'Â¡EXCELENTE!', emoji: 'ğŸ†', msg: 'Â¡Golpeaste el bloque correcto! Tu mente es mÃ¡s rÃ¡pida que Mario.' }
  ],
  wrong: [
    { title: 'Â¡OOPS!', emoji: 'ğŸ’€', msg: 'CaÃ­ste en el hoyo, pero Mario siempre vuelve a empezar. Â¡IntÃ©ntalo de nuevo!' },
    { title: 'Â¡UY!', emoji: 'ğŸ¢', msg: 'Un Goomba te atrapÃ³ esta vez. Â¡Lee de nuevo el contenido y lo lograrÃ¡s!' },
    { title: 'Â¡CASI!', emoji: 'ğŸ”´', msg: 'Esta vez no fue. Pero recuerda: Â¡Mario nunca se rinde!' }
  ],
  open: [
    { title: 'Â¡MISIÃ“N CUMPLIDA!', emoji: 'ğŸ¯', msg: 'Â¡Respuesta enviada! El docente revisarÃ¡ tu trabajo. Â¡Sigue asÃ­!' }
  ]
};

// ============================================================
// INIT
// ============================================================
function startGame() {
  const name = document.getElementById('studentName').value.trim();
  if (!name || name.length < 3) {
    alert('Por favor ingresa tu nombre completo (mÃ­nimo 3 caracteres)');
    return;
  }
  gameState.playerName = name;
  gameState.startTime = new Date();
  gameState.currentStation = 0;

  document.getElementById('sidebarName').textContent = name;
  document.getElementById('screen-name').classList.remove('active');
  document.getElementById('screen-main').classList.add('active');

  buildNav();
  loadStation(0);
}

function buildNav() {
  const container = document.getElementById('navItems');
  container.innerHTML = '';
  stations.forEach((s, i) => {
    const done = gameState.completedStations.includes(i);
    const active = i === gameState.currentStation;
    const locked = !done && i !== gameState.currentStation;
    const div = document.createElement('div');
    div.className = `station-nav-item ${done ? 'completed' : ''} ${active ? 'active' : ''} ${locked ? 'locked' : ''}`;
    div.innerHTML = `
      <span class="nav-icon">${s.emoji}</span>
      <span class="nav-text">Est. ${s.id}<br>${s.name}</span>
      <span class="nav-status">${done ? 'âœ…' : active ? 'â–¶ï¸' : 'ğŸ”’'}</span>
    `;
    if (!locked) div.onclick = () => loadStation(i);
    container.appendChild(div);
  });
  updateProgress();
}

function updateProgress() {
  const pct = Math.round((gameState.completedStations.length / stations.length) * 100);
  document.getElementById('progressFill').style.width = pct + '%';
  document.getElementById('progressPct').textContent = pct + '%';
  document.getElementById('sidebarScore').textContent = `ğŸª™ ${gameState.coins} MONEDAS`;
  document.getElementById('topbarCoins').textContent = `ğŸª™ ${gameState.coins}`;
}

function loadStation(index) {
  gameState.currentStation = index;
  const s = stations[index];
  document.getElementById('topbarStation').textContent = `ESTACIÃ“N ${s.id} â€” ${s.name.toUpperCase()}`;

  const area = document.getElementById('stationArea');
  area.innerHTML = `
    <div class="station-header">
      <div class="station-number">${String(s.id).padStart(2,'0')}</div>
      <div class="station-emoji">${s.emoji}</div>
      <div class="station-info">
        <h1>${s.name}</h1>
        <p>${s.subtitle}</p>
        <div style="margin-top:8px">
          <span class="badge badge-yellow">ğŸª™ +${s.challenge.coins} monedas</span>
          ${gameState.completedStations.includes(index) ? '<span class="badge badge-green" style="margin-left:8px">âœ… Completada</span>' : ''}
        </div>
      </div>
    </div>
    ${s.content}
    ${renderChallenge(s, index)}
  `;

  // Build mini map if station 1
  if (index === 0) {
    const mm = document.getElementById('miniMap');
    if (mm) {
      stations.forEach((st, i) => {
        const dot = document.createElement('div');
        const done = gameState.completedStations.includes(i);
        const active = i === gameState.currentStation;
        dot.className = `map-dot ${done ? 'done' : active ? 'active' : 'locked'}`;
        dot.title = st.name;
        dot.textContent = st.emoji;
        mm.appendChild(dot);
      });
    }
  }

  buildNav();
  area.scrollTop = 0;
  window.scrollTo(0, 0);
}

function renderChallenge(s, index) {
  const done = gameState.completedStations.includes(index);
  const ch = s.challenge;

  if (ch.type === 'mc') {
    const opts = ch.options.map((o, i) =>
      `<button class="option-btn" onclick="answerMC(${index},${i})" ${done ? 'disabled' : ''}>${['A','B','C','D'][i]}) ${o}</button>`
    ).join('');
    return `
      <div class="challenge-section">
        <div class="challenge-header">ğŸ® RETO DE CONOCIMIENTO â€” Gana ${ch.coins} monedas</div>
        <div class="challenge-question">${ch.question}</div>
        <div class="options-grid">${opts}</div>
        ${done ? '<div style="color:var(--mario-green);font-weight:800;text-align:center">âœ… Â¡Reto Completado!</div>' : ''}
      </div>`;
  }

  if (ch.type === 'tool') {
    return `
      <div class="challenge-section">
        <div class="challenge-header">ğŸ® RETO DE ELECCIÃ“N â€” Gana ${ch.coins} monedas</div>
        <div class="challenge-question">${ch.question}</div>
        <textarea class="input-challenge" id="toolReason" placeholder="Escribe aquÃ­ por quÃ© elegiste esa herramienta..." ${done ? 'disabled' : ''}>${gameState.answers[index] || ''}</textarea>
        <button class="btn-submit" onclick="answerTool(${index})" ${done ? 'disabled' : ''}>
          ${done ? 'âœ… ENVIADO' : 'â–¶ ENVIAR RESPUESTA'}
        </button>
      </div>`;
  }

  if (ch.type === 'open') {
    return `
      <div class="challenge-section">
        <div class="challenge-header">ğŸ† RETO FINAL â€” Gana ${ch.coins} monedas</div>
        <div class="challenge-question">${ch.question}</div>
        <textarea class="input-challenge" id="openAnswer" placeholder="Escribe tu conclusiÃ³n aquÃ­..." rows="5" ${done ? 'disabled' : ''}>${gameState.answers[index] || ''}</textarea>
        <button class="btn-submit" onclick="answerOpen(${index})" ${done ? 'disabled' : ''}>
          ${done ? 'âœ… ENVIADO' : 'â–¶ ENVIAR CONCLUSIÃ“N'}
        </button>
      </div>`;
  }

  return '';
}

// ============================================================
// ANSWER HANDLERS
// ============================================================
function selectTool(el, name) {
  document.querySelectorAll('.tool-card').forEach(c => c.classList.remove('selected'));
  el.classList.add('selected');
  gameState.selectedTool = name;
  document.getElementById('toolInfo').style.display = 'block';
  document.getElementById('toolSelected').textContent = name;
}

function answerMC(stationIndex, chosen) {
  if (gameState.completedStations.includes(stationIndex)) return;
  const ch = stations[stationIndex].challenge;
  const correct = chosen === ch.correct;

  document.querySelectorAll('.option-btn').forEach((btn, i) => {
    btn.disabled = true;
    if (i === ch.correct) btn.classList.add('correct');
    else if (i === chosen && !correct) btn.classList.add('wrong');
  });

  if (correct) {
    completeStation(stationIndex, ch.coins);
    const fb = feedbackMessages.correct[Math.floor(Math.random() * feedbackMessages.correct.length)];
    showFeedback(true, fb.emoji, fb.title, fb.msg, ch.coins, stationIndex);
  } else {
    const fb = feedbackMessages.wrong[Math.floor(Math.random() * feedbackMessages.wrong.length)];
    showFeedback(false, fb.emoji, fb.title, fb.msg, 0, stationIndex);
  }
}

function answerTool(stationIndex) {
  const reason = document.getElementById('toolReason')?.value?.trim();
  if (!gameState.selectedTool) { alert('Â¡Debes elegir una herramienta primero! Haz clic en una de las tarjetas.'); return; }
  if (!reason || reason.length < 15) { alert('Explica un poco mÃ¡s por quÃ© elegiste esa herramienta (mÃ­nimo 15 caracteres).'); return; }
  gameState.answers[stationIndex] = reason;
  completeStation(stationIndex, stations[stationIndex].challenge.coins);
  const fb = feedbackMessages.correct[1];
  showFeedback(true, 'âš¡', 'Â¡POWER SELECCIONADO!', `Elegiste ${gameState.selectedTool}. Â¡Excelente elecciÃ³n de herramienta! Eres un verdadero jugador digital.`, stations[stationIndex].challenge.coins, stationIndex);
}

function answerOpen(stationIndex) {
  const answer = document.getElementById('openAnswer')?.value?.trim();
  if (!answer || answer.length < 30) { alert('Escribe una conclusiÃ³n mÃ¡s completa (mÃ­nimo 30 caracteres).'); return; }
  gameState.answers[stationIndex] = answer;
  completeStation(stationIndex, stations[stationIndex].challenge.coins);
  const fb = feedbackMessages.open[0];
  showFeedback(true, fb.emoji, fb.title, fb.msg + ' Â¡Llegaste a la BANDERA FINAL! ğŸğŸ‰', stations[stationIndex].challenge.coins, stationIndex, true);
}

function completeStation(index, coins) {
  if (!gameState.completedStations.includes(index)) {
    gameState.completedStations.push(index);
    gameState.coins += coins;
    spawnCoins(coins);
  }
  buildNav();
  updateProgress();
}

function showFeedback(success, emoji, title, msg, coins, stationIndex, isFinal = false) {
  const popup = document.getElementById('feedbackPopup');
  const overlay = document.getElementById('overlay');
  document.getElementById('feedbackEmoji').textContent = emoji;
  document.getElementById('feedbackTitle').textContent = title;
  document.getElementById('feedbackTitle').className = `feedback-title ${success ? 'success' : 'fail'}`;
  document.getElementById('feedbackMsg').textContent = msg;
  document.getElementById('feedbackCoins').textContent = coins > 0 ? `+${coins} ğŸª™ monedas ganadas!` : '';

  const nextIndex = stationIndex + 1;
  const hasNext = nextIndex < stations.length;

  document.getElementById('feedbackBtn').textContent = isFinal ? 'VER REPORTE FINAL ğŸ†' : (success && hasNext ? 'SIGUIENTE ESTACIÃ“N â–¶' : 'CERRAR âœ•');
  document.getElementById('feedbackBtn').onclick = () => {
    closeFeedback();
    if (isFinal) showReport();
    else if (success && hasNext) loadStation(nextIndex);
    else if (!success) { /* stay */ }
  };

  popup.classList.add('show');
  overlay.classList.add('show');
}

function closeFeedback() {
  document.getElementById('feedbackPopup').classList.remove('show');
  document.getElementById('overlay').classList.remove('show');
}

function spawnCoins(count) {
  for (let i = 0; i < Math.min(count, 5); i++) {
    const coin = document.createElement('div');
    coin.className = 'float-coin';
    coin.textContent = 'ğŸª™';
    coin.style.left = (20 + Math.random() * 60) + 'vw';
    coin.style.top = (30 + Math.random() * 40) + 'vh';
    document.body.appendChild(coin);
    setTimeout(() => coin.remove(), 1000);
  }
}

// ============================================================
// REPORT
// ============================================================
function showReport() {
  const elapsed = Math.round((new Date() - gameState.startTime) / 60000);
  const grade = gameState.coins >= 80 ? 'A+' : gameState.coins >= 60 ? 'A' : gameState.coins >= 40 ? 'B' : 'C';

  document.getElementById('reportName').textContent = gameState.playerName;
  document.getElementById('reportScore').textContent = `ğŸª™ ${gameState.coins} MONEDAS RECOLECTADAS`;
  document.getElementById('repStations').textContent = `${gameState.completedStations.length}/8`;
  document.getElementById('repCoins').textContent = gameState.coins;
  document.getElementById('repTime').textContent = elapsed + ' min';
  document.getElementById('repGrade').textContent = grade;

  const summary = document.getElementById('stationsSummary');
  summary.innerHTML = '<h4 style="font-weight:900;margin-bottom:12px;color:rgba(255,255,255,0.8)">ğŸ“Š Detalle por EstaciÃ³n</h4>';
  stations.forEach((s, i) => {
    const done = gameState.completedStations.includes(i);
    summary.innerHTML += `
      <div class="station-summary-item ${done ? 'done' : ''}">
        <span class="ssi-icon">${s.emoji}</span>
        <span class="ssi-name">EstaciÃ³n ${s.id}: ${s.name}</span>
        <span class="ssi-status">${done ? `âœ… +${s.challenge.coins}ğŸª™` : 'â³ Pendiente'}</span>
      </div>`;
  });

  const openAnswers = gameState.answers[2] ? `Herramienta seleccionada: ${gameState.selectedTool}. ` : '';
  document.getElementById('teacherReport').textContent =
    `Estudiante: ${gameState.playerName} | Grado: 801 | ` +
    `Fecha: ${new Date().toLocaleDateString('es-CO')} | Tiempo: ${elapsed} min | ` +
    `Estaciones completadas: ${gameState.completedStations.length}/8 | ` +
    `Monedas: ${gameState.coins}/85 | CalificaciÃ³n: ${grade} | ` +
    openAnswers +
    `Taller: Presentaciones Digitales â€” TecnologÃ­a e InformÃ¡tica SENA.`;

  document.getElementById('screen-main').classList.remove('active');
  document.getElementById('screen-report').classList.add('active');
}

function restartGame() {
  gameState = { playerName: '', currentStation: 0, completedStations: [], coins: 0, selectedTool: '', startTime: null, answers: {} };
  document.getElementById('screen-report').classList.remove('active');
  document.getElementById('screen-intro').classList.add('active');
}
</script>
</body>
</html>
